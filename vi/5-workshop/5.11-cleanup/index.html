<!doctype html><html lang=vi class="js csstransforms3d"><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.134.3"><meta name=description content><meta name=author content="khoado7577@gmail.com"><link rel=icon href=../../../images/favicon.png type=image/png><title>Dọn dẹp :: Báo cáo thực tập</title>
<link href=../../../css/nucleus.css?1765333165 rel=stylesheet><link href=../../../css/fontawesome-all.min.css?1765333165 rel=stylesheet><link href=../../../css/hybrid.css?1765333165 rel=stylesheet><link href=../../../css/featherlight.min.css?1765333165 rel=stylesheet><link href=../../../css/perfect-scrollbar.min.css?1765333165 rel=stylesheet><link href=../../../css/auto-complete.css?1765333165 rel=stylesheet><link href=../../../css/atom-one-dark-reasonable.css?1765333165 rel=stylesheet><link href=../../../css/theme.css?1765333165 rel=stylesheet><link href=../../../css/hugo-theme.css?1765333165 rel=stylesheet><link href=../../../css/theme-workshop.css?1765333165 rel=stylesheet><script src=../../../js/jquery-3.3.1.min.js?1765333165></script><style>:root #header+#content>#left>#rlblock_left{display:none!important}</style></head><body data-url=../../../vi/5-workshop/5.11-cleanup/><nav id=sidebar class=showVisitedLinks><div id=header-wrapper><div id=header><a id=logo href=../../../><svg id="Layer_1" data-name="Layer 1" viewBox="0 0 60 30" width="30%"><defs><style>.cls-1{fill:#fff}.cls-2{fill:#f90;fill-rule:evenodd}</style></defs><title>AWS-Logo_White-Color</title><path class="cls-1" d="M14.09 10.85a4.7 4.7.0 00.19 1.48 7.73 7.73.0 00.54 1.19.77.77.0 01.12.38.64.64.0 01-.32.49l-1 .7a.83.83.0 01-.44.15.69.69.0 01-.49-.23 3.8 3.8.0 01-.6-.77q-.25-.42-.51-1a6.14 6.14.0 01-4.89 2.3 4.54 4.54.0 01-3.32-1.19 4.27 4.27.0 01-1.22-3.2 4.28 4.28.0 011.46-3.4A6.06 6.06.0 017.69 6.46a12.47 12.47.0 011.76.13q.92.13 1.91.36V5.73a3.65 3.65.0 00-.79-2.66A3.81 3.81.0 007.86 2.3a7.71 7.71.0 00-1.79.22 12.78 12.78.0 00-1.79.57 4.55 4.55.0 01-.58.22h-.26q-.35.0-.35-.52V2a1.09 1.09.0 01.12-.58 1.2 1.2.0 01.47-.35A10.88 10.88.0 015.77.32 10.19 10.19.0 018.36.0a6 6 0 014.35 1.35 5.49 5.49.0 011.38 4.09zM7.34 13.38a5.36 5.36.0 001.72-.31A3.63 3.63.0 0010.63 12 2.62 2.62.0 0011.19 11a5.63 5.63.0 00.16-1.44v-.7a14.35 14.35.0 00-1.53-.28 12.37 12.37.0 00-1.56-.1 3.84 3.84.0 00-2.47.67A2.34 2.34.0 005 11a2.35 2.35.0 00.61 1.76A2.4 2.4.0 007.34 13.38zm13.35 1.8a1 1 0 01-.64-.16 1.3 1.3.0 01-.35-.65L15.81 1.51a3 3 0 01-.15-.67.36.36.0 01.41-.41H17.7a1 1 0 01.65.16 1.4 1.4.0 01.33.65l2.79 11 2.59-11A1.17 1.17.0 0124.39.6a1.1 1.1.0 01.67-.16H26.4a1.1 1.1.0 01.67.16 1.17 1.17.0 01.32.65L30 12.39 32.88 1.25A1.39 1.39.0 0133.22.6a1 1 0 01.65-.16h1.54a.36.36.0 01.41.41 1.36 1.36.0 010 .26 3.64 3.64.0 01-.12.41l-4 12.86a1.3 1.3.0 01-.35.65 1 1 0 01-.64.16H29.25a1 1 0 01-.67-.17 1.26 1.26.0 01-.32-.67L25.67 3.64l-2.56 10.7a1.26 1.26.0 01-.32.67 1 1 0 01-.67.17zm21.36.44a11.28 11.28.0 01-2.56-.29 7.44 7.44.0 01-1.92-.67 1 1 0 01-.61-.93v-.84q0-.52.38-.52a.9.9.0 01.31.06l.42.17a8.77 8.77.0 001.83.58 9.78 9.78.0 002 .2 4.48 4.48.0 002.43-.55 1.76 1.76.0 00.86-1.57 1.61 1.61.0 00-.45-1.16A4.29 4.29.0 0043 9.22l-2.41-.76A5.15 5.15.0 0138 6.78a3.94 3.94.0 01-.83-2.41 3.7 3.7.0 01.45-1.85 4.47 4.47.0 011.19-1.37 5.27 5.27.0 011.7-.86A7.4 7.4.0 0142.6.0a8.87 8.87.0 011.12.07q.57.07 1.08.19t.95.26a4.27 4.27.0 01.7.29 1.59 1.59.0 01.49.41.94.94.0 01.15.55v.79q0 .52-.38.52a1.76 1.76.0 01-.64-.2 7.74 7.74.0 00-3.2-.64 4.37 4.37.0 00-2.21.47 1.6 1.6.0 00-.79 1.48 1.58 1.58.0 00.49 1.18 4.94 4.94.0 001.83.92L44.55 7a5.08 5.08.0 012.57 1.6A3.76 3.76.0 0147.9 11a4.21 4.21.0 01-.44 1.93 4.4 4.4.0 01-1.21 1.47 5.43 5.43.0 01-1.85.93A8.25 8.25.0 0142.05 15.62z"/><path class="cls-2" d="M45.19 23.81C39.72 27.85 31.78 30 25 30A36.64 36.64.0 01.22 20.57c-.51-.46-.06-1.09.56-.74A49.78 49.78.0 0025.53 26.4 49.23 49.23.0 0044.4 22.53C45.32 22.14 46.1 23.14 45.19 23.81z"/><path class="cls-2" d="M47.47 21.21c-.7-.9-4.63-.42-6.39-.21-.53.06-.62-.4-.14-.74 3.13-2.2 8.27-1.57 8.86-.83s-.16 5.89-3.09 8.35c-.45.38-.88.18-.68-.32C46.69 25.8 48.17 22.11 47.47 21.21z"/></svg></a></div><div class=searchbox><label for=search-by><i class="fas fa-search"></i></label>
<input data-search-input id=search-by type=search placeholder=Search...>
<span data-search-clear><i class="fas fa-times"></i></span></div><script type=text/javascript src=../../../js/lunr.min.js?1765333165></script><script type=text/javascript src=../../../js/auto-complete.js?1765333165></script><script type=text/javascript>var baseurl="https://thienquang2265.github.io/ThienQuang_worklog.github.io//vi"</script><script type=text/javascript src=../../../js/search.js?1765333165></script></div><div class=highlightable><ul class=topics><li data-nav-id=/vi/1-worklog/ title="Nhật ký công việc" class=dd-item><a href=../../../vi/1-worklog/><b>1. </b>Nhật ký công việc
<i class="fas fa-check read-icon"></i></a><ul><li data-nav-id=/vi/1-worklog/1.1-week1/ title="Worklog Tuần 1" class=dd-item><a href=../../../vi/1-worklog/1.1-week1/><b>1.1. </b>Worklog Tuần 1
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/1-worklog/1.2-week2/ title="Worklog Tuần 2" class=dd-item><a href=../../../vi/1-worklog/1.2-week2/><b>1.2. </b>Worklog Tuần 2
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/1-worklog/1.3-week3/ title="Worklog Tuần 3" class=dd-item><a href=../../../vi/1-worklog/1.3-week3/><b>1.3. </b>Worklog Tuần 3
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/1-worklog/1.4-week4/ title="Worklog tuần 4" class=dd-item><a href=../../../vi/1-worklog/1.4-week4/><b>1.4. </b>Worklog tuần 4
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/1-worklog/1.5-week5/ title="Worklog tuần 5" class=dd-item><a href=../../../vi/1-worklog/1.5-week5/><b>1.5. </b>Worklog tuần 5
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/1-worklog/1.6-week6/ title="Worklog tuần 6" class=dd-item><a href=../../../vi/1-worklog/1.6-week6/><b>1.6. </b>Worklog tuần 6
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/1-worklog/1.7-week7/ title="Worklog tuần 7" class=dd-item><a href=../../../vi/1-worklog/1.7-week7/><b>1.7. </b>Worklog tuần 7
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/1-worklog/1.8-week8/ title="Worklog tuần 8" class=dd-item><a href=../../../vi/1-worklog/1.8-week8/><b>1.8. </b>Worklog tuần 8
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/1-worklog/1.9-week9/ title="Worklog tuần 9" class=dd-item><a href=../../../vi/1-worklog/1.9-week9/><b>1.9. </b>Worklog tuần 9
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/1-worklog/1.10-week10/ title="Worklog tuần 10" class=dd-item><a href=../../../vi/1-worklog/1.10-week10/><b>1.10. </b>Worklog tuần 10
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/1-worklog/1.11-week11/ title="Worklog tuần 11" class=dd-item><a href=../../../vi/1-worklog/1.11-week11/><b>1.11. </b>Worklog tuần 11
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/1-worklog/1.12-week12/ title="Worklog Tuần 12" class=dd-item><a href=../../../vi/1-worklog/1.12-week12/><b>1.12. </b>Worklog Tuần 12
<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/vi/2-proposal/ title="Đề Xuất" class=dd-item><a href=../../../vi/2-proposal/><b>2. </b>Đề Xuất
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/3-blogstranslated/ title="Translated Blogs" class=dd-item><a href=../../../vi/3-blogstranslated/><b>3. </b>Translated Blogs
<i class="fas fa-check read-icon"></i></a><ul><li data-nav-id=/vi/3-blogstranslated/3.1-blog1/ title="Blog:  Gặp gỡ đội ngũ AWS News Blog!" class=dd-item><a href=../../../vi/3-blogstranslated/3.1-blog1/><b>3.1 </b>Blog: Gặp gỡ đội ngũ AWS News Blog!
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/3-blogstranslated/3.2-blog2/ title="Blog Vận hành AWS Cloud – Quản lý AWS Config Rules with Remediation" class=dd-item><a href=../../../vi/3-blogstranslated/3.2-blog2/><b>3.2 </b>Blog Vận hành AWS Cloud – Quản lý AWS Config Rules with Remediation
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/3-blogstranslated/3.3-blog3/ title="MasterClass nâng cao chất lượng video và giảm chi phí với AWS Media Services" class=dd-item><a href=../../../vi/3-blogstranslated/3.3-blog3/><b>3.3 </b>MasterClass nâng cao chất lượng video và giảm chi phí với AWS Media Services
<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/vi/4-eventparticipated/ title="Các events đã tham gia" class=dd-item><a href=../../../vi/4-eventparticipated/><b>4. </b>Các events đã tham gia
<i class="fas fa-check read-icon"></i></a><ul><li data-nav-id=/vi/4-eventparticipated/4.1-event1/ title="Sự kiện: Vietnam Cloud Day 2025" class=dd-item><a href=../../../vi/4-eventparticipated/4.1-event1/><b>4.1. </b>Sự kiện: Vietnam Cloud Day 2025
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/4-eventparticipated/4.2-event2/ title="Workshop: Khoa học dữ liệu trên AWS" class=dd-item><a href=../../../vi/4-eventparticipated/4.2-event2/><b>4.3. </b>Workshop: Khoa học dữ liệu trên AWS
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/4-eventparticipated/4.3-event3/ title="Sự kiện: CloudThinker: Agentic AI & Orchestration trên AWS" class=dd-item><a href=../../../vi/4-eventparticipated/4.3-event3/><b>4.7. </b>Sự kiện: CloudThinker: Agentic AI & Orchestration trên AWS
<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/vi/5-workshop/ title=Workshop class="dd-item
parent"><a href=../../../vi/5-workshop/><b>5. </b>Workshop
<i class="fas fa-check read-icon"></i></a><ul><li data-nav-id=/vi/5-workshop/5.1-workshop-overview/ title="Tổng quan Workshop" class=dd-item><a href=../../../vi/5-workshop/5.1-workshop-overview/><b>5.1. </b>Tổng quan Workshop
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/5-workshop/5.2-prerequisite/ title="Yêu cầu tiên quyết" class=dd-item><a href=../../../vi/5-workshop/5.2-prerequisite/><b>5.2. </b>Yêu cầu tiên quyết
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/5-workshop/5.3-architecture/ title="Kiến trúc Dự án" class=dd-item><a href=../../../vi/5-workshop/5.3-architecture/><b>5.3. </b>Kiến trúc Dự án
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/5-workshop/5.4-setup-aws/ title="Thiết lập Môi trường AWS" class=dd-item><a href=../../../vi/5-workshop/5.4-setup-aws/><b>5.4. </b>Thiết lập Môi trường AWS
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/5-workshop/5.5-database-setup/ title="Thiết lập Database (DynamoDB)" class=dd-item><a href=../../../vi/5-workshop/5.5-database-setup/><b>5.5. </b>Thiết lập Database (DynamoDB)
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/5-workshop/5.6-authentication/ title="Dịch vụ Xác thực" class=dd-item><a href=../../../vi/5-workshop/5.6-authentication/><b>5.6. </b>Dịch vụ Xác thực
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/5-workshop/5.7-backend-services/ title="Dịch vụ Backend" class=dd-item><a href=../../../vi/5-workshop/5.7-backend-services/><b>5.7. </b>Dịch vụ Backend
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/5-workshop/5.8-frontend/ title="Phát triển Frontend" class=dd-item><a href=../../../vi/5-workshop/5.8-frontend/><b>5.8. </b>Phát triển Frontend
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/5-workshop/5.9-deployment/ title="Triển khai" class=dd-item><a href=../../../vi/5-workshop/5.9-deployment/><b>5.9. </b>Triển khai
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/5-workshop/5.10-testing/ title="Kiểm tra & Giám sát" class=dd-item><a href=../../../vi/5-workshop/5.10-testing/><b>5.10. </b>Kiểm tra & Giám sát
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/5-workshop/5.11-cleanup/ title="Dọn dẹp" class="dd-item
active"><a href=../../../vi/5-workshop/5.11-cleanup/><b>5.11. </b>Dọn dẹp
<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/vi/6-self-evaluation/ title="Tự Đánh Giá" class=dd-item><a href=../../../vi/6-self-evaluation/><b>6. </b>Tự Đánh Giá
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/7-feedback/ title="Chia sẻ, đóng góp ý kiến" class=dd-item><a href=../../../vi/7-feedback/><b>7. </b>Chia sẻ, đóng góp ý kiến
<i class="fas fa-check read-icon"></i></a></li></ul><section id=shortcuts><h3>More</h3><ul><li><a class=padding href=https://www.facebook.com/groups/awsstudygroupfcj/><i class='fab fa-facebook'></i> AWS Study Group</a></li></ul></section><section id=prefooter><hr><ul><li><a class=padding><i class="fas fa-language fa-fw"></i><div class=select-style><select id=select-language onchange="location=this.value"><option id=en value=https://thienquang2265.github.io/ThienQuang_worklog.github.io/5-workshop/5.11-cleanup/>English</option><option id=vi value=https://thienquang2265.github.io/ThienQuang_worklog.github.io/vi/5-workshop/5.11-cleanup/ selected>Tiếng Việt</option></select><svg id="Capa_1" xmlns:xlink="http://www.w3.org/1999/xlink" width="255" height="255" viewBox="0 0 255 255" style="enable-background:new 0 0 255 255"><g><g id="arrow-drop-down"><polygon points="0,63.75 127.5,191.25 255,63.75"/></g></g></svg></div></a></li><li><a class=padding href=# data-clear-history-toggle><i class="fas fa-history fa-fw"></i> Clear History</a></li></ul></section><section id=footer><left><b>Workshop</b><br><img src="https://hitwebcounter.com/counter/counter.php?page=7920860&style=0038&nbdigits=9&type=page&initCount=0" title=Migrate alt="web counter" border=0></a><br><b><a href=https://cloudjourney.awsstudygroup.com/>Cloud Journey</a></b><br><img src="https://hitwebcounter.com/counter/counter.php?page=7830807&style=0038&nbdigits=9&type=page&initCount=0" title="Total CLoud Journey" alt="web counter" border=0>
</left><left><br><br><b>Last Updated</b><br><i><span id=lastUpdated style=color:orange></span>
</i><script>const today=new Date,formattedDate=today.toLocaleDateString("en-GB");document.getElementById("lastUpdated").textContent=formattedDate</script></left><left><br><br><b>Team</b><br><i><a href=https://www.facebook.com/groups/660548818043427 style=color:orange>First Cloud Journey</a><br></i></left><script async defer src=https://buttons.github.io/buttons.js></script></section></div></nav><section id=body><div id=overlay></div><div class="padding highlightable"><div><div id=top-bar><div id=breadcrumbs itemscope itemtype=http://data-vocabulary.org/Breadcrumb><span id=sidebar-toggle-span><a href=# id=sidebar-toggle data-sidebar-toggle><i class="fas fa-bars"></i>
</a></span><span id=toc-menu><i class="fas fa-list-alt"></i></span>
<span class=links><a href=../../../vi/>Báo cáo thực tập</a> > <a href=../../../vi/5-workshop/>Workshop</a> > Dọn dẹp</span></div><div class=progress><div class=wrapper><nav id=TableOfContents><ul><li><a href=#dọn-dẹp-tài-nguyên>Dọn dẹp Tài nguyên</a><ul><li><a href=#tổng-quan-dọn-dẹp>Tổng quan Dọn dẹp</a></li><li><a href=#bước-1-xóa-cloudfront-distribution>Bước 1: Xóa CloudFront Distribution</a></li><li><a href=#bước-2-xóa-s3-buckets>Bước 2: Xóa S3 Buckets</a></li><li><a href=#bước-3-xóa-api-gateway>Bước 3: Xóa API Gateway</a></li><li><a href=#bước-4-xóa-lambda-functions>Bước 4: Xóa Lambda Functions</a></li><li><a href=#bước-5-xóa-dynamodb-tables>Bước 5: Xóa DynamoDB Tables</a></li><li><a href=#bước-6-xóa-cognito-user-pool>Bước 6: Xóa Cognito User Pool</a></li><li><a href=#bước-7-xóa-cloudwatch-logs>Bước 7: Xóa CloudWatch Logs</a></li><li><a href=#bước-8-xóa-iam-roles-và-policies>Bước 8: Xóa IAM Roles và Policies</a></li><li><a href=#xác-minh>Xác minh</a></li><li><a href=#xác-minh-chi-phí>Xác minh Chi phí</a></li><li><a href=#checklist-dọn-dẹp>Checklist Dọn dẹp</a></li><li><a href=#xử-lý-sự-cố-dọn-dẹp>Xử lý Sự cố Dọn dẹp</a></li><li><a href=#ghi-chú-cuối-cùng>Ghi chú Cuối cùng</a></li><li><a href=#chúc-mừng>Chúc mừng!</a></li></ul></li></ul></nav></div></div></div></div><div id=head-tags></div><div id=body-inner><h1>Dọn dẹp</h1><h2 id=dọn-dẹp-tài-nguyên>Dọn dẹp Tài nguyên</h2><p>Để tránh các khoản phí liên tục, điều quan trọng là phải xóa tất cả các tài nguyên AWS được tạo trong workshop này. Phần này cung cấp hướng dẫn từng bước để dọn dẹp.</p><div class="notices warning"><p><strong>Quan trọng</strong>: Xóa tài nguyên là không thể hoàn tác. Đảm bảo bạn đã sao lưu bất kỳ dữ liệu nào bạn muốn giữ trước khi tiếp tục.</p></div><h3 id=tổng-quan-dọn-dẹp>Tổng quan Dọn dẹp</h3><p>Chúng ta sẽ xóa tài nguyên theo thứ tự sau:</p><ol><li>CloudFront Distribution</li><li>S3 Buckets</li><li>API Gateway</li><li>Lambda Functions</li><li>DynamoDB Tables</li><li>Cognito User Pool</li><li>CloudWatch Logs</li><li>IAM Roles và Policies</li><li>Route53 (nếu đã cấu hình)</li><li>ACM Certificates (nếu đã tạo)</li></ol><h3 id=bước-1-xóa-cloudfront-distribution>Bước 1: Xóa CloudFront Distribution</h3><p>CloudFront distributions phải được vô hiệu hóa trước khi xóa.</p><p><strong>Sử dụng AWS Console</strong>:</p><ol><li>Điều hướng đến CloudFront</li><li>Chọn InsightHR distribution</li><li>Click &ldquo;Disable&rdquo;</li><li>Đợi trạng thái chuyển sang &ldquo;Disabled&rdquo; (có thể mất 15-20 phút)</li><li>Chọn lại distribution</li><li>Click &ldquo;Delete&rdquo;</li></ol><p><strong>Sử dụng AWS CLI</strong>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># Lấy distribution ID</span>
</span></span><span style=display:flex><span>DIST_ID<span style=color:#f92672>=</span><span style=color:#66d9ef>$(</span>aws cloudfront list-distributions <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    --query <span style=color:#e6db74>&#34;DistributionList.Items[?Comment==&#39;InsightHR CloudFront Distribution&#39;].Id&#34;</span> <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    --output text<span style=color:#66d9ef>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Vô hiệu hóa distribution</span>
</span></span><span style=display:flex><span><span style=color:#75715e># (Xem hướng dẫn chi tiết trong file gốc)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Xóa distribution</span>
</span></span><span style=display:flex><span>aws cloudfront delete-distribution --id $DIST_ID --if-match $ETAG
</span></span></code></pre></div><h3 id=bước-2-xóa-s3-buckets>Bước 2: Xóa S3 Buckets</h3><p><strong>Làm trống và xóa bucket ứng dụng web</strong>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># Làm trống bucket</span>
</span></span><span style=display:flex><span>aws s3 rm s3://insighthr-web-app-sg --recursive
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Xóa bucket</span>
</span></span><span style=display:flex><span>aws s3 rb s3://insighthr-web-app-sg --force
</span></span></code></pre></div><h3 id=bước-3-xóa-api-gateway>Bước 3: Xóa API Gateway</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># Lấy API ID</span>
</span></span><span style=display:flex><span>API_ID<span style=color:#f92672>=</span><span style=color:#66d9ef>$(</span>aws apigateway get-rest-apis <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    --query <span style=color:#e6db74>&#34;items[?name==&#39;InsightHR API&#39;].id&#34;</span> <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    --output text <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    --region ap-southeast-1<span style=color:#66d9ef>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Xóa API</span>
</span></span><span style=display:flex><span>aws apigateway delete-rest-api <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    --rest-api-id $API_ID <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    --region ap-southeast-1
</span></span></code></pre></div><h3 id=bước-4-xóa-lambda-functions>Bước 4: Xóa Lambda Functions</h3><p><strong>Xóa tất cả Lambda functions</strong>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># Danh sách functions cần xóa</span>
</span></span><span style=display:flex><span>FUNCTIONS<span style=color:#f92672>=(</span>
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;insighthr-auth-login-handler&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;insighthr-auth-register-handler&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;insighthr-auth-google-handler&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;insighthr-employees-handler&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;insighthr-employees-bulk-handler&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;insighthr-performance-scores-handler&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;insighthr-chatbot-handler&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;insighthr-attendance-handler&#34;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Xóa từng function</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>for</span> func in <span style=color:#e6db74>&#34;</span><span style=color:#e6db74>${</span>FUNCTIONS[@]<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>; <span style=color:#66d9ef>do</span>
</span></span><span style=display:flex><span>    echo <span style=color:#e6db74>&#34;Đang xóa </span>$func<span style=color:#e6db74>...&#34;</span>
</span></span><span style=display:flex><span>    aws lambda delete-function <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>        --function-name $func <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>        --region ap-southeast-1
</span></span><span style=display:flex><span><span style=color:#66d9ef>done</span>
</span></span></code></pre></div><h3 id=bước-5-xóa-dynamodb-tables>Bước 5: Xóa DynamoDB Tables</h3><p><strong>Sử dụng AWS CLI</strong>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># Danh sách bảng cần xóa</span>
</span></span><span style=display:flex><span>TABLES<span style=color:#f92672>=(</span>
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;insighthr-users-dev&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;insighthr-employees-dev&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;insighthr-performance-scores-dev&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;insighthr-attendance-history-dev&#34;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Xóa từng bảng</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>for</span> table in <span style=color:#e6db74>&#34;</span><span style=color:#e6db74>${</span>TABLES[@]<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>; <span style=color:#66d9ef>do</span>
</span></span><span style=display:flex><span>    echo <span style=color:#e6db74>&#34;Đang xóa </span>$table<span style=color:#e6db74>...&#34;</span>
</span></span><span style=display:flex><span>    aws dynamodb delete-table <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>        --table-name $table <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>        --region ap-southeast-1
</span></span><span style=display:flex><span><span style=color:#66d9ef>done</span>
</span></span></code></pre></div><h3 id=bước-6-xóa-cognito-user-pool>Bước 6: Xóa Cognito User Pool</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># Lấy user pool ID</span>
</span></span><span style=display:flex><span>USER_POOL_ID<span style=color:#f92672>=</span><span style=color:#66d9ef>$(</span>aws cognito-idp list-user-pools <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    --max-results <span style=color:#ae81ff>10</span> <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    --query <span style=color:#e6db74>&#34;UserPools[?Name==&#39;insighthr-user-pool&#39;].Id&#34;</span> <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    --output text <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    --region ap-southeast-1<span style=color:#66d9ef>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Xóa user pool</span>
</span></span><span style=display:flex><span>aws cognito-idp delete-user-pool <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    --user-pool-id $USER_POOL_ID <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    --region ap-southeast-1
</span></span></code></pre></div><h3 id=bước-7-xóa-cloudwatch-logs>Bước 7: Xóa CloudWatch Logs</h3><p><strong>Xóa log groups</strong>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># Liệt kê log groups</span>
</span></span><span style=display:flex><span>aws logs describe-log-groups <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    --log-group-name-prefix <span style=color:#e6db74>&#34;/aws/lambda/insighthr&#34;</span> <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    --region ap-southeast-1
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Xóa từng log group</span>
</span></span><span style=display:flex><span>LOG_GROUPS<span style=color:#f92672>=</span><span style=color:#66d9ef>$(</span>aws logs describe-log-groups <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    --log-group-name-prefix <span style=color:#e6db74>&#34;/aws/lambda/insighthr&#34;</span> <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    --query <span style=color:#e6db74>&#39;logGroups[*].logGroupName&#39;</span> <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    --output text <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    --region ap-southeast-1<span style=color:#66d9ef>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>for</span> log_group in $LOG_GROUPS; <span style=color:#66d9ef>do</span>
</span></span><span style=display:flex><span>    echo <span style=color:#e6db74>&#34;Đang xóa </span>$log_group<span style=color:#e6db74>...&#34;</span>
</span></span><span style=display:flex><span>    aws logs delete-log-group <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>        --log-group-name $log_group <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>        --region ap-southeast-1
</span></span><span style=display:flex><span><span style=color:#66d9ef>done</span>
</span></span></code></pre></div><h3 id=bước-8-xóa-iam-roles-và-policies>Bước 8: Xóa IAM Roles và Policies</h3><p><strong>Sử dụng AWS CLI</strong>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># Liệt kê roles</span>
</span></span><span style=display:flex><span>aws iam list-roles <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    --query <span style=color:#e6db74>&#39;Roles[?starts_with(RoleName, `insighthr`)].RoleName&#39;</span> <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    --output text
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Với mỗi role, tách policies và xóa</span>
</span></span><span style=display:flex><span>ROLES<span style=color:#f92672>=</span><span style=color:#66d9ef>$(</span>aws iam list-roles <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    --query <span style=color:#e6db74>&#39;Roles[?starts_with(RoleName, `insighthr`)].RoleName&#39;</span> <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    --output text<span style=color:#66d9ef>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>for</span> role in $ROLES; <span style=color:#66d9ef>do</span>
</span></span><span style=display:flex><span>    echo <span style=color:#e6db74>&#34;Đang xử lý role </span>$role<span style=color:#e6db74>...&#34;</span>
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#75715e># Tách managed policies</span>
</span></span><span style=display:flex><span>    POLICIES<span style=color:#f92672>=</span><span style=color:#66d9ef>$(</span>aws iam list-attached-role-policies <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>        --role-name $role <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>        --query <span style=color:#e6db74>&#39;AttachedPolicies[*].PolicyArn&#39;</span> <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>        --output text<span style=color:#66d9ef>)</span>
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> policy in $POLICIES; <span style=color:#66d9ef>do</span>
</span></span><span style=display:flex><span>        aws iam detach-role-policy <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>            --role-name $role <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>            --policy-arn $policy
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>done</span>
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#75715e># Xóa role</span>
</span></span><span style=display:flex><span>    aws iam delete-role --role-name $role
</span></span><span style=display:flex><span><span style=color:#66d9ef>done</span>
</span></span></code></pre></div><h3 id=xác-minh>Xác minh</h3><p>Sau khi dọn dẹp, xác minh tất cả tài nguyên đã được xóa:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># Kiểm tra S3 buckets</span>
</span></span><span style=display:flex><span>aws s3 ls | grep insighthr
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Kiểm tra Lambda functions</span>
</span></span><span style=display:flex><span>aws lambda list-functions <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    --query <span style=color:#e6db74>&#39;Functions[?starts_with(FunctionName, `insighthr`)].FunctionName&#39;</span> <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    --region ap-southeast-1
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Kiểm tra DynamoDB tables</span>
</span></span><span style=display:flex><span>aws dynamodb list-tables <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    --query <span style=color:#e6db74>&#39;TableNames[?starts_with(@, `insighthr`)]&#39;</span> <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    --region ap-southeast-1
</span></span></code></pre></div><h3 id=xác-minh-chi-phí>Xác minh Chi phí</h3><p>Sau khi dọn dẹp, giám sát AWS billing của bạn:</p><ol><li>Đi đến AWS Billing Dashboard</li><li>Kiểm tra &ldquo;Bills&rdquo; cho tháng hiện tại</li><li>Xác minh không có khoản phí liên tục cho các dịch vụ đã xóa</li><li>Kiểm tra &ldquo;Cost Explorer&rdquo; cho xu hướng</li></ol><h3 id=checklist-dọn-dẹp>Checklist Dọn dẹp</h3><ul><li><input disabled type=checkbox> CloudFront distribution đã vô hiệu hóa và xóa</li><li><input disabled type=checkbox> S3 buckets đã làm trống và xóa</li><li><input disabled type=checkbox> API Gateway đã xóa</li><li><input disabled type=checkbox> Tất cả Lambda functions đã xóa</li><li><input disabled type=checkbox> Tất cả DynamoDB tables đã xóa</li><li><input disabled type=checkbox> Cognito User Pool đã xóa</li><li><input disabled type=checkbox> CloudWatch log groups đã xóa</li><li><input disabled type=checkbox> CloudWatch Synthetics canaries đã xóa</li><li><input disabled type=checkbox> IAM roles và policies đã xóa</li><li><input disabled type=checkbox> Route53 hosted zone đã xóa (nếu đã tạo)</li><li><input disabled type=checkbox> ACM certificates đã xóa (nếu đã tạo)</li><li><input disabled type=checkbox> Billing dashboard đã kiểm tra các khoản phí liên tục</li></ul><h3 id=xử-lý-sự-cố-dọn-dẹp>Xử lý Sự cố Dọn dẹp</h3><p><strong>CloudFront không xóa được</strong>:</p><ul><li>Đảm bảo distribution đã được vô hiệu hóa hoàn toàn</li><li>Đợi 15-20 phút sau khi vô hiệu hóa</li><li>Kiểm tra các tài nguyên liên quan</li></ul><p><strong>S3 bucket không xóa được</strong>:</p><ul><li>Đảm bảo bucket hoàn toàn trống</li><li>Kiểm tra các versioned objects</li><li>Vô hiệu hóa versioning trước khi xóa</li></ul><p><strong>IAM role không xóa được</strong>:</p><ul><li>Tách tất cả managed policies trước</li><li>Xóa tất cả inline policies</li><li>Kiểm tra service-linked roles</li></ul><h3 id=ghi-chú-cuối-cùng>Ghi chú Cuối cùng</h3><div class="notices tip"><p><strong>Best Practice</strong>: Luôn dọn dẹp tài nguyên sau khi hoàn thành workshop để tránh các khoản phí không mong muốn. Thiết lập cảnh báo billing để thông báo cho bạn về bất kỳ chi phí liên tục nào.</p></div><h3 id=chúc-mừng>Chúc mừng!</h3><p>Bạn đã hoàn thành thành công workshop InsightHR và dọn dẹp tất cả tài nguyên. Bạn đã học được:</p><ul><li>✅ Thiết kế kiến trúc serverless</li><li>✅ AWS Lambda và API Gateway</li><li>✅ Mô hình hóa dữ liệu DynamoDB</li><li>✅ Xác thực Cognito</li><li>✅ Tích hợp AI AWS Bedrock</li><li>✅ Triển khai CloudFront CDN</li><li>✅ Nguyên tắc Infrastructure as Code</li><li>✅ Chiến lược tối ưu chi phí</li></ul><p>Cảm ơn bạn đã tham gia workshop này!</p><footer class=footline></footer></div></div><div id=navigation><a class="nav nav-prev" href=../../../vi/5-workshop/5.10-testing/ title="Kiểm tra & Giám sát"><i class="fa fa-chevron-left"></i></a>
<a class="nav nav-next" href=../../../vi/6-self-evaluation/ title="Tự Đánh Giá" style=margin-right:0><i class="fa fa-chevron-right"></i></a></div></section><div style=left:-1000px;overflow:scroll;position:absolute;top:-1000px;border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px><div style=border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px></div></div><script src=../../../js/clipboard.min.js?1765333165></script><script src=../../../js/perfect-scrollbar.min.js?1765333165></script><script src=../../../js/perfect-scrollbar.jquery.min.js?1765333165></script><script src=../../../js/jquery.sticky.js?1765333165></script><script src=../../../js/featherlight.min.js?1765333165></script><script src=../../../js/highlight.pack.js?1765333165></script><script>hljs.initHighlightingOnLoad()</script><script src=../../../js/modernizr.custom-3.6.0.js?1765333165></script><script src=../../../js/learn.js?1765333165></script><script src=../../../js/hugo-learn.js?1765333165></script><link href=../../../mermaid/mermaid.css?1765333165 rel=stylesheet><script src=../../../mermaid/mermaid.js?1765333165></script><script>mermaid.initialize({startOnLoad:!0})</script><script>(function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,(e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date),(i=t.createElement(n),a=t.getElementsByTagName(n)[0]),i.async=1,i.src=s,a.parentNode.insertBefore(i,a)})(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-158079754-2","auto"),ga("send","pageview")</script></body></html>